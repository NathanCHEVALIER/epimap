name: Map Worker and Checker
on: 
  push:
    branches:
      - '**'
  pull_request:
    types: [opened, reopened]
jobs:
  init-map-worker:
    runs-on: ubuntu-latest
    steps:
      - name: init job info
        run: echo "The job was triggered by a ${{ github.event_name }} event on branch ${{ github.ref }}"
  map-worker:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ“‚ Get release code
        uses: actions/checkout@v2
      - name: ğŸ”¨ Build image (Node.js 16.x)
        uses: actions/setup-node@v3
        with:
          node-version: 16.x
      - name: ğŸ“¥ Install dependencies
        run: npm install
      - name: â–¶ï¸ Execute worker script
        run: node tests/worker.js
      - name: ğŸ“ Status
        run: echo "Job status is ${{ job.status }}."